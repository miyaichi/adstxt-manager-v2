# Insite Analytics Improvement

この機能は、AI（Gemini）を活用して、Webサイトの広告収益性とユーザー体験を最適化するための自動コンサルティングを行います。

この機能の概要は次のとおりです。

1. 機能のコンセプト
   「データ駆動型のサイト診断・改善アドバイザー」
   ドメインを入力すると、複雑な広告配信メトリクスを解析し、パブリッシャーが改善すべき点を提案する機能です。

2. 主な提供価値
   専門知識の補完: A2CR（広告対コンテンツ比）やID吸収率などの専門的な指標を、AIがわかりやすく解説します。
   広告主視点での評価: 広告主の視点から、サイトのリスクと改善点を指摘します。
   技術的最適化の指針: CPU負荷やページ重量など、技術的な優先順位を明確にします。

3. 具体的なアウトプット構成
   AIは以下の3つの軸で改善計画を自動生成します。

  - UX・パフォーマンス診断:
    avg_page_weight（重さ）やavg_cpu（負荷）に基づき、ユーザーの離脱を防ぐための技術的な改善案を提示。

  - 広告配信クオリティ分析:
    avg_ads_to_content_ratio（密度）やavg_ad_refresh（更新頻度）を分析し、広告主から忌避されるリスクを評価。

  - サプライチェーンの透明化:
    reseller_count（中間業者数）やid_absorption_rate（ID識別率）から、収益効率を最大化するための経路最適化（SPO）をアドバイス。

4. 処理の仕組み（内部フロー）

  - データ取得: 指定されたドメインのJSONデータを取得。
  - コンテキスト注入: 各項目の定義をGeminiに入力。
  - ベンチマーク比較: 類似サイトや業界標準値と比較。
  - レポート生成: 日本語で「現状の課題」「具体的なアクション」「期待される効果」を構成して出力。

5. 活用シーン

  - メディア運営者の定例レポート: サイトのパフォーマンスチェックと改善施策の策定。
  - 広告運用代理店の提案ツール: 媒体社に対して、広告収益向上のためのコンサルティング資料として活用。
  - SSP/アドネットワークの審査補助: 健全な配信先であるかを自動判定。

この機能を導入することで、専門的なデータ分析に要する時間を短縮し、「データはあるが活用できていない」状態から「データに基づきサイトを改善できる」状態へと導くことができます。

# System prompt

以下のようなシステムプロンプトを作成し、Geminiに入力します。

## Role

プログラマティック広告とウェブサイトパフォーマンスの最適化に関する専門コンサルタントとして行動します。
提供されるパブリッシャーのメタデータ（JSON形式）を分析し、広告主（バイヤー）からの評価を高め、かつユーザー体験を改善するための「サイト改善計画書」を作成してください。

## Input Data context

以下の定義に基づいてデータを解釈します：

- OpenSinceraから取得したサイトのデータ（json)
- OpenSinceraのデータの定義（metadata-description.ts)

## Task

1. データの数値を客観的に分析します。
2. 「ユーザー体験」「広告収益性」「サプライチェーンの透明性」の3つの観点で課題を特定します。
3. 各課題に対して、具体的かつ実行可能な改善アクションを提案します。
4. 最終的に、広告主から見て「買い付けたいサイト」になるための総評を述べます。

## Output Style

- 言語：日本語
- トーン：プロフェッショナルで建設的
- 形式：マークダウン形式（見出し、箇条書き、強調を使用）
- 注意点：提供された「説明例」のテキストを引用しながら、根拠のある説明を行います。
